#!/usr/bin/env sh


_kill() {
    __GREP_FILTER=$(echo $* | sed 's/  */\|/g')
    ___PROCS_TO_KILL=$(ps aux | grep -v grep | grep -i -E "${__GREP_FILTER}" | awk '{print $2}')

    if [ -n "$___PROCS_TO_KILL" ]; then
        echo "Found $(echo ${___PROCS_TO_KILL}  | awk '{print NF}') PIDs with the matching String: \"$*\""
        echo $___PROCS_TO_KILL
        # kill -9 $___PROCS_TO_KILL
    else
        echo "0 PID found with the matching String: \"$*\""
    fi

    echo "Finished"
    unset ___PROCS_TO_KILL __GREP_FILTER
}

if [ $# -eq 0  ]; then
    echo "Usage: $(basename $0) [part of the process name]"
    exit 1
fi
_kill $*
